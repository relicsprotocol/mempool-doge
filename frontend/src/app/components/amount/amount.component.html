<ng-container *ngIf="!noFiat && ignoreViewMode === false && (viewAmountMode$ | async) === 'fiat' && (conversions$ | async) as conversions; else viewFiatVin">
  <span class="fiat" *ngIf="blockConversion; else noblockconversion">
    {{ addPlus && shibes >= 0 ? '+' : '' }}{{
      (
        (blockConversion.price[currency] > -1 ? blockConversion.price[currency] : null) ??
        (blockConversion.price['USD']    > -1 ? blockConversion.price['USD'] * blockConversion.exchangeRates['USD' + currency] : null) ?? 0
      ) * shibes / 100000000 | fiatCurrency : digitsInfo : currency
    }}
  </span>
  <ng-template #noblockconversion>
    <span class="fiat" *ngIf="!forceBlockConversion; else zeroValue">{{ addPlus && shibes >= 0 ? '+' : '' }}{{ (conversions[currency] > -1 ? conversions[currency] : 0) * shibes / 100000000 | fiatCurrency : digitsInfo : currency }}
    </span>
  </ng-template>
  <ng-template #zeroValue>
    <span class="fiat">{{ 0 | fiatCurrency : digitsInfo : currency }}</span>
  </ng-template>
</ng-container>

<ng-template #viewFiatVin>
  @if ((viewAmountMode$ | async) === 'doge' || (viewAmountMode$ | async) === 'fiat' || ignoreViewMode === true) {
    &lrm;{{ addPlus && shibes >= 0 ? '+' : '' }}{{ shibes / 100000000 | number : digitsInfo }}
    <span class="symbol">
      DOGE
    </span>
  } @else {
    @if (digitsInfo === '1.8-8') {
      &lrm;{{ addPlus && shibes >= 0 ? '+' : '' }}{{ shibes | number }}
    } @else {
      &lrm;{{ addPlus && shibes >= 0 ? '+' : '' }}{{ shibes | amountShortener : shibes < 1000 && shibes > -1000 ? 0 : 1 }}
    }
    <span class="symbol">
      shibes
    </span>
  }
</ng-template>
